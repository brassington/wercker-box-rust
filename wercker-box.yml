name: rust-latest
version: 1.0.1
inherits: wercker/ubuntu12.04-webessentials@1.0.0
type : main
platform : ubuntu@12.04
description : Wercker box using the latest version of Rust.
keywords:
  - rust
  - rustlang
packages :
  - git
  - mercurial
  - bzr
script : |
  echo 'We started!'
  
  filename='rust-nightly-x86_64-unknown-linux-gnu'
  
  sudo apt-get update
  sudo apt-get install bzr
  sudo apt-get install mercurial
  wget http://static.rust-lang.org/dist/${filename}.tar.gz
  sudo tar -xf ${filename}.tar.gz
  cd ${filename}
  curl -O http://s3.amazonaws.com/rust-builds/rust-support.tar.gz
  tar xzvf rust-support.tar.gz
  export LD_LIBRARY_PATH=~/lib
  export PATH=~/rust-nightly-x86_64-unknown-linux-gnu/bin:$PATH
  echo 'export PATH=~/rust-nightly-x86_64-unknown-linux-gnu/bin:$PATH' | sudo tee -a /etc/profile
  echo 'export LD_LIBRARY_PATH=~/lib' | sudo tee -a /etc/profile
  cd ..
  rm ${filename}.tar.gz
  echo "Completed!"
